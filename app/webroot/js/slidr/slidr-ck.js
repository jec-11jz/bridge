/*!
 * slidr v0.3.0 - A Javascript library for adding slide effects.
 * bchanx.com/slidr
 * MIT licensed
 *
 * Copyright (c) 2013 Brian Chan (bchanx.com)
 */(function(e,t){typeof exports=="object"?module.exports=t():typeof define=="function"&&define.amd?define(t):e.slidr=t()})(this,function(){"use strict";function e(e,t){var n=e;for(var r in t){if(!n||!n.hasOwnProperty(t[r]))return null;n=n[t[r]]}return n===e?null:n}function t(){var e={};for(var t=0,n;n=arguments[t];t++)for(var r in n)e[r]=n[r];return e}function n(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e.compareDocumentPosition(t)&16:0}function r(e){return e.tagName?e.tagName.toLowerCase():null}function i(e,t){if(Array.prototype.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function s(e){return"".trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function o(e,t){var n=document.createElement(e);for(var r in t)n[r]=t[r];return n}function u(e,t){var n=s(e.className);n=n?n.split(/\s+/):[];for(var r=2,o,u;o=arguments[r];r++){u=i(n,o);t==="add"&&u<0&&n.push(o);t==="rm"&&u>=0&&n.splice(u,1)}e.className=n.join(" ");return e}function a(e){return e.replace(/[\s'"]/gi,"").split("").sort().join("")}function f(e,t,n){e&&e.setAttribute&&e.setAttribute(t,n);return e}function l(e,t){return e&&e.getAttribute?e.getAttribute(t):null}function c(e,t){if(typeof t=="string"){var n=document.defaultView?document.defaultView.getComputedStyle(e):e.currentStyle,r=n[d.fix(t)];!r&&t==="opacity"&&(r=n.filter?n.filter.split("=")[1].replace(")",""):"1");if(r){var i=r.slice(0,-2);return r.slice(-2)==="px"&&!isNaN(parseInt(i))&&i.search("px")<=0?parseInt(i):r}return"none"}for(var s in t)d.fix(s)&&(e.style[d.fix(s)]=t[s]);return e}function h(e,t,n){typeof t=="string"&&(t=[t]);for(var r=0,i;i=t[r];r++){i=i==="click"&&"ontouchstart"in window?"touchend":e.attachEvent?"on"+i:i;e.attachEvent?e.attachEvent(i,n):e.addEventListener(i,n)}}function p(e){e=e||window.event;e.cancelBubble=!0;e.returnValue=!1;e.stopPropagation&&e.stopPropagation();e.preventDefault&&e.preventDefault();return!1}var d={prefixes:["webkit","Moz","ms","O"],cache:{},keyframes:{},isIE:function(){d.supports("filter")&&!d.supports("opacity")?d.isIE=function(){return!0}:d.isIE=function(){return!1};return d.isIE()},styleEl:document.getElementsByTagName("html")[0].style,styleSheet:function(){var e=o("style",{type:"text/css"});document.getElementsByTagName("head")[0].appendChild(e);return e.sheet||e.styleSheet}(),cssRules:function(){d.cssRules=function(){return d.styleSheet.cssRules||d.styleSheet.rules};return d.cssRules()},insertRule:function(e){d.styleSheet.insertRule?d.insertRule=function(e){d.styleSheet.insertRule(e,d.cssRules().length)}:d.insertRule=function(e){var t=e.split(" {");if(t.length===2){var n=t[0],r=s(t[1].replace(/;?\s?}$/g,""));n&&r&&d.styleSheet.addRule(n,r)}};d.insertRule(e)},addCSSRule:function(e,t,n){e=a(e);for(var r=0,i,s;i=d.cssRules()[r];r++){s=a(i.name||i.selectorText||i.cssText.split(" {")[0]||"");if(s===e){if(!n&&a(i.cssText)!==a(t)){d.styleSheet.deleteRule(r);break}return}}d.insertRule(t)},createRule:function(e,t){var n=[e,"{"];for(var r in t)d.fix(r,!0)&&n.push(d.fix(r,!0)+":"+t[r]+";");n.push("}");return n.join(" ")},createStyle:function(e,t,n){d.addCSSRule(e,d.createRule(e,t),n)},createKeyframe:function(e,t){var n=d.fix("animation",!0);if(n&&!d.keyframes[e]){var r=n.split("-").length===3?"-"+n.split("-")[1]+"-":"",i=["@"+r+"keyframes "+e+" {"];for(var s in t)i.push(d.createRule(s+"%",t[s]));i.push("}");d.addCSSRule(e,i.join(" "));d.keyframes[e]=!0}},fix:function(e,t){if(!(e in d.cache)){var n=e.split("-");for(var r=0,i;i=n[r];r++)n[r]=i[0].toUpperCase()+i.toLowerCase().slice(1);var s=n.join("");s=s[0].toLowerCase()+s.slice(1);if(d.styleEl[s]!==undefined)d.cache[e]={css:e,dom:s};else{s=n.join("");for(r=0;r<d.prefixes.length;r++)d.styleEl[d.prefixes[r]+s]!==undefined&&(d.cache[e]={css:"-"+d.prefixes[r].toLowerCase()+"-"+e,dom:d.prefixes[r]+s})}d.cache[e]||(d.cache[e]=null)}return d.cache[e]!==null?t?d.cache[e].css:d.cache[e].dom:null},supports:function(){for(var e=0,t;t=arguments[e];e++)if(!d.fix(t))return!1;return!0},add:{fade:function(e,t,n){d.createKeyframe(e,{0:{opacity:t,visibility:"visible"},100:{opacity:n,visibility:"hidden"}})},linear:function(e,t,n,r,i,s){d.createKeyframe(e,{0:{transform:"translate"+n[0]+"(0%)",opacity:t==="in"?"0":i,visibility:"visible"},1:{transform:"translate"+n+"px)",opacity:i},99:{transform:"translate"+r+"px)",opacity:s},100:{transform:"translate"+r[0]+"(0%)",opacity:t==="out"?"0":s,visibility:"hidden"}})},cube:function(e,t,n,r,i,s){d.createKeyframe(e,{0:{transform:"rotate"+t+"0deg) translateZ("+r+"px)",opacity:i,visibility:"visible"},100:{transform:"rotate"+n+"0deg) translateZ("+r+"px)",opacity:s,visibility:"hidden"}})}},classnames:function(e){return{main:e,maincss:'aside[id*="-'+e+'"]',nav:"slidr-"+e,navcss:'aside[id*="-'+e+'"] .slidr-'+e,data:"data-slidr-"+e,id:function(t,n){return n?'aside[id="'+t.id+"-"+e+'"]':t.id+"-"+e}}},sanitize:function(e){e=e||window.event;e.target||(e.target=e.srcElement);e.currentTarget||(e.currentTarget=e.srcElement);!e.which&&e.keyCode&&(e.which=e.keyCode);return e}},v={available:["cube","fade","linear","none"],validate:function(e,t){t=t||e.settings.transition;return i(v.available,t)<0||!b.supported[t]?"none":t},get:function(t,n,r,i){return e(t.trans,[n,r==="in"?m.opposite(i):i])},set:function(e,t,n,r){r=v.validate(e,r);e.trans[t]||(e.trans[t]={});e.trans[t][n]=r;return r},apply:function(e,t,n,r,i){var s=i||v.get(e,t,n,r);if(s){y.update(e,t,n);b.animate(e,t,s,n,r)}}},m={directions:["left","up","top","right","down","bottom"],isdir:function(e){return i(m.directions,e)>=0},opposite:function(e){var t=m.directions.length;return m.isdir(e)?m.directions[(i(m.directions,e)+t/2)%t]:null},get:function(t){var n=[];for(var r=1,i;(i=arguments[r++])!==undefined;n.push(i));return e(t.slides,n)},display:function(e){if(!e.displayed&&m.get(e,e.start)){e.current=e.start;y.create(e);g.create(e);b.init(e,e.current,"fade");b.animate(e,e.current,"fade","in");e.displayed=!0;S.controls(e,e.settings.controls);!e.settings.breadcrumbs||S.breadcrumbs(e)}},slide:function(e,t){return m.isdir(t)?m.go(e,m.get(e,e.current,t),t,t):m.jump(e,t)},jump:function(e,t){if(t&&t!==e.current&&m.get(e,t)){var n=e.crumbs[e.current],r=e.crumbs[t],i=n.x<r.x?"right":n.x>r.x?"left":null,s=n.y<r.y?"up":n.y>r.y?"down":null,o=v.get(e,e.current,"out",i)?i:v.get(e,e.current,"out",s)?s:null,u=v.get(e,t,"in",i)?i:v.get(e,t,"in",s)?s:null;m.go(e,t,o,u,o?null:"fade",u?null:"fade")}},go:function(e,t,n,r,i,s){if(e.current&&t){v.apply(e,t,"in",r,s);v.apply(e,e.current,"out",n,i);e.current=t;g.update(e);return!0}return!1},find:function(e,t){var n=t?[]:{};for(var r=0,s,o;s=e.slidr.childNodes[r];r++){o=l(s,"data-slidr");o&&(t&&i(n,o)<0?n.push(o):o in n||(n[o]=s))}return n},validate:function(e,t,n,r,i,s){if(!t||t.constructor!==Array)return!1;for(var o=0,u,a,f,l,c,h,p,d;u=t[o];o++){if(!(u in r))return!1;if(m.get(e,u)){a=t[o-1]||null;f=t[o+1]||null;l=m.get(e,u,i);c=m.get(e,u,s);h=m.get(e,f,i);p=v.get(e,u,"out",i);d=v.get(e,u,"out",s);if(c&&f&&c!=f||l&&a&&l!=a||h&&h!=u||a&&p&&p!=n||f&&d&&d!=n)return!1}}return!0},add:function(e,t,n,r,i,s){for(var o=0,u;u=t[o];o++){e.slides[u]=e.slides[u]||{};var a=m.get(e,u);a.el=r[u];if(t[o-1]){a[i]=t[o-1];v.set(e,u,i,n)}if(t[o+1]){a[s]=t[o+1];v.set(e,u,s,n)}b.init(e,u,n);e.start=e.start?e.start:u}e.started&&(e.displayed?y.create(e):m.display(e));return!0}},g={cls:d.classnames("control"),types:["border","corner","none"],valid:function(e){return i(g.types,e)>=0},create:function(e){if(e.slidr&&!e.controls){e.controls=c(u(o("aside",{id:g.cls.id(e)}),"add","disabled"),{opacity:"0",filter:"alpha(opacity=0)","z-index":"0",visibility:"hidden","pointer-events":"none"});for(var t in e.nav){e.nav[t]=f(u(o("div"),"add",g.cls.nav,t),g.cls.data,t);e.controls.appendChild(e.nav[t])}g.css(e);e.slidr.appendChild(e.controls);h(e.controls,"click",g.onclick(e))}},css:function(e){d.createStyle(g.cls.maincss,{position:"absolute",bottom:"0",right:"0",padding:"10px","box-sizing":"border-box",width:"75px",height:"75px",transform:"translateZ(9998px)"},!0);d.createStyle(g.cls.maincss+".disabled",{transform:"translateZ(0px) !important"},!0);d.createStyle(g.cls.maincss+".breadcrumbs",{left:"0",right:"auto"},!0);d.createStyle(g.cls.maincss+".border",{width:"100%",height:"100%"},!0);d.createStyle(g.cls.navcss,{position:"absolute","pointer-events":"auto",cursor:"pointer",transition:"opacity 0.2s linear"},!0);var t={opacity:"0.05",cursor:"auto"};d.isIE()&&(t.display="none");d.createStyle(g.cls.navcss+".disabled",t,!0);for(var n in e.nav){var r=n==="left"||n==="right",i=n==="up"?"top":n==="down"?"bottom":n,s=r?"top":"left",o={width:r?"22px":"16px",height:r?"16px":"22px","tap-highlight-color":"rgba(0, 0, 0, 0)","touch-callout":"none","user-select":"none"};o[i]="0";o[s]="50%";o["margin-"+s]="-8px";d.createStyle(g.cls.navcss+"."+n,o,!0);var u={width:"0",height:"0",content:'""',position:"absolute",border:"8px solid transparent"};u["border-"+m.opposite(i)+"-width"]="12px";u["border-"+i+"-width"]="10px";u["border-"+m.opposite(i)+"-color"]=e.settings.theme;u[i]="0";u[s]="50%";u["margin-"+s]="-8px";d.createStyle(g.cls.id(e,!0)+" ."+g.cls.nav+"."+n+":after",u,!0);var a={};a[r?"height":"width"]="100%";a[s]="0";a["margin-"+s]="0";d.createStyle(g.cls.maincss+".border ."+g.cls.nav+"."+n,a,!0)}},onclick:function(e){return function(n){S.slide(e,l(d.sanitize(n).target,g.cls.data))}},update:function(e){for(var t in e.nav)u(e.nav[t],S.canSlide(e,t)?"rm":"add","disabled")}},y={cls:d.classnames("breadcrumbs"),init:function(e){if(e.slidr&&!e.breadcrumbs){e.breadcrumbs=c(u(o("aside",{id:y.cls.id(e)}),"add","disabled"),{opacity:"0",filter:"alpha(opacity=0)","z-index":"0","pointer-events":"none",visibility:"hidden"});y.css(e);e.slidr.appendChild(e.breadcrumbs);h(e.breadcrumbs,"click",y.onclick(e))}},css:function(e){d.createStyle(y.cls.maincss,{position:"absolute",bottom:"0",right:"0",padding:"10px","box-sizing":"border-box",transform:"translateZ(9999px)"},!0);d.createStyle(y.cls.maincss+".disabled",{transform:"translateZ(0px) !important"},!0);d.createStyle(y.cls.navcss,{padding:"0","font-size":"0","line-height":"0"},!0);d.createStyle(y.cls.navcss+" li",{width:"10px",height:"10px",display:"inline-block",margin:"3px","tap-highlight-color":"rgba(0, 0, 0, 0)","touch-callout":"none","user-select":"none"},!0);d.createStyle(y.cls.id(e,!0)+" ."+y.cls.nav+" li.normal",{"border-radius":"100%",border:"1px "+e.settings.theme+" solid",cursor:"pointer","pointer-events":"auto"},!0);d.createStyle(y.cls.id(e,!0)+" ."+y.cls.nav+" li.active",{width:"12px",height:"12px",margin:"2px","background-color":e.settings.theme},!0)},onclick:function(e){return function(n){S.slide(e,l(d.sanitize(n).target,y.cls.data))}},offsets:{right:{x:1,y:0},up:{x:0,y:1},left:{x:-1,y:0},down:{x:0,y:-1}},find:function(e,t,n,r,i,s){if(r){if(!t[r]){t[r]={x:i,y:s};i<n.x.min&&(n.x.min=i);i>n.x.max&&(n.x.max=i);s<n.y.min&&(n.y.min=s);s>n.y.max&&(n.y.max=s)}r=m.get(e,r);for(var o in y.offsets)r[o]&&!t[r[o]]&&y.find(e,t,n,r[o],i+y.offsets[o].x,s+y.offsets[o].y)}},update:function(e,t,n){u(e.crumbs[t].el,n==="in"?"add":"rm","active")},create:function(e){y.init(e);if(e.breadcrumbs){var t={},n={x:{min:0,max:0},y:{min:0,max:0}};y.find(e,t,n,e.start,0,0);n.x.modifier=0-n.x.min;n.y.modifier=0-n.y.min;var r={};for(var i in t){t[i].x+=n.x.modifier;t[i].y+=n.y.modifier;r[t[i].x+","+t[i].y]=i}var s=n.y.max-n.y.min+1,a=n.x.max-n.x.min+1;while(e.breadcrumbs.firstChild)e.breadcrumbs.removeChild(e.breadcrumbs.firstChild);var l=u(o("ul"),"add",y.cls.nav),c=o("li");for(var h=s-1,p;h>=0;h--){p=l.cloneNode(!1);for(var d=0,v,m;d<a;d++){v=c.cloneNode(!1);m=r[d+","+h];if(m){u(v,"add","normal",m===e.current?"active":null);f(v,y.cls.data,m);t[m].el=v}p.appendChild(v)}e.breadcrumbs.appendChild(p)}e.crumbs=t}}},b={init:function(e,n,r){var i=m.get(e,n);if(!i.initialized){var s=c(i.el,"display"),o={display:s==="none"?"block":s,visibility:"hidden",position:"absolute",opacity:"0",filter:"alpha(opacity=0)","z-index":"0","pointer-events":"none","backface-visibility":"hidden","transform-style":"preserve-3d"};d.isIE()&&(o=t(o,{display:"none",visibility:"visible"}));i.initialized=!0;c(i.el,o)}},supported:{none:!0,fade:d.supports("animation","opacity"),linear:d.supports("animation","opacity","transform"),cube:d.supports("animation","backface-visibility","opacity","transform","transform-style")},animation:{fade:function(){d.add.fade("slidr-fade-in","0","1");d.add.fade("slidr-fade-out","1","0")}(),linear:{"in":{left:function(e,t,n){d.add.linear(e,"in","X(-"+t,"X(0",n,"1")},right:function(e,t,n){d.add.linear(e,"in","X("+t,"X(0",n,"1")},up:function(e,t,n){d.add.linear(e,"in","Y(-"+t,"Y(0",n,"1")},down:function(e,t,n){d.add.linear(e,"in","Y("+t,"Y(0",n,"1")}},out:{left:function(e,t,n){d.add.linear(e,"out","X(0","X("+t,"1",n)},right:function(e,t,n){d.add.linear(e,"out","X(0","X(-"+t,"1",n)},up:function(e,t,n){d.add.linear(e,"out","Y(0","Y("+t,"1",n)},down:function(e,t,n){d.add.linear(e,"out","Y(0","Y(-"+t,"1",n)}}},cube:{"in":{left:function(e,t,n){d.add.cube(e,"Y(-9","Y(",t/2,n,"1")},right:function(e,t,n){d.add.cube(e,"Y(9","Y(",t/2,n,"1")},up:function(e,t,n){d.add.cube(e,"X(9","X(",t/2,n,"1")},down:function(e,t,n){d.add.cube(e,"X(-9","X(",t/2,n,"1")}},out:{left:function(e,t,n){d.add.cube(e,"Y(","Y(9",t/2,"1",n)},right:function(e,t,n){d.add.cube(e,"Y(","Y(-9",t/2,"1",n)},up:function(e,t,n){d.add.cube(e,"X(","X(-9",t/2,"1",n)},down:function(e,t,n){d.add.cube(e,"X(","X(9",t/2,"1",n)}}}},name:function(t,n,r,i,s){var o=["slidr",r,i];if((r==="linear"||r==="cube")&&s){o.push(s);var u=t.settings.fade?"0":"1";u==="0"&&o.push("fade");var a=s==="up"||s==="down"?"height":"width",f=c(n,a);o.push(a[0],f);var l=e(b.animation,[r,i,s]);l&&l(o.join("-"),f,u)}return o.join("-")},animate:function(e,n,r,i,s,o,u,a){var f={opacity:i==="in"?"1":"0",filter:"alpha(opacity="+(i==="in"?"100":"0")+")","z-index":u||(i==="in"?"1":"0"),visibility:i==="in"?"visible":"hidden","pointer-events":a||(i==="in"?"auto":"none")};d.isIE()&&(f=t(f,{display:i==="in"?"block":"none",visibility:"visible"}));var l=o||m.get(e,n).el,h=e.settings.timing[r];if(b.supported[r]&&h){var p=b.name(e,l,r,i,s);f.animation=r==="none"?"none":[p,h].join(" ")}c(l,f);m.get(e,n)&&d.supports("transform")&&b.fixTranslateZ(e,l,i)},fixTranslateZ:function(e,t,n){var i=t.getElementsByTagName("aside");if(i.length)for(var s=0,o,a,f,h;o=i[s];s++)if(!!o.getAttribute("id")){a=o.parentNode;while(!l(a,"data-slidr")&&r(a)!=="body")a=a.parentNode;r(a)==="body"&&(a=e.slidr);h=c(a,"visibility");f=n==="out"||!n&&h==="hidden"?"add":h==="visible"?"rm":null;f&&u(o,f,"disabled")}}},w={active:{},autoResize:function(e){w.active[e.id]={src:e,h:0,w:0,d:w.dynamic(e)}},dynamic:function(e){var t=c(e.slidr.cloneNode(!1),{position:"absolute",opacity:"0",filter:"alpha(opacity=0)"}),n=c(o("div"),{width:"42px",height:"42px"});t.appendChild(n);e.slidr.parentNode.insertBefore(t,e.slidr);var r=c(t,"box-sizing")==="border-box",i=(r?w.widthPad(e.slidr)+w.widthBorder(e.slidr):0)+42,s=(r?w.heightPad(e.slidr)+w.heightBorder(e.slidr):0)+42,u=c(t,"width"),a=c(t,"height"),f=c(t,"min-width"),l=c(t,"min-height"),h={width:u==="auto"||u===i||f!==0&&f!="auto",height:a==="auto"||a===s||l!==0&&l!="auto",borderbox:r};e.slidr.parentNode.removeChild(t);return h},widthPad:function(e){return c(e,"padding-left")+c(e,"padding-right")},heightPad:function(e){return c(e,"padding-top")+c(e,"padding-bottom")},widthMargin:function(e){return c(e,"margin-left")+c(e,"margin-right")},heightMargin:function(e){return c(e,"margin-top")+c(e,"margin-bottom")},widthBorder:function(e){return c(e,"border-left-width")+c(e,"border-right-width")},heightBorder:function(e){return c(e,"border-top-width")+c(e,"border-bottom-width")},setWidth:function(e,t,n){t!=="auto"&&(t+=n?w.widthPad(e.slidr):0);c(e.slidr,{width:t+"px"});return t},setHeight:function(e,t,n){t!=="auto"&&(t+=n?w.heightPad(e.slidr):0);c(e.slidr,{height:t+"px"});return t}},E={mouse:{over:[],isOver:function(e){return i(E.mouse.over,e)>=0},add:function(e){E.mouse.isOver(e)||E.mouse.over.push(e)},remove:function(e){E.mouse.isOver(e)&&E.mouse.over.splice(i(E.mouse.over,e),1)},current:function(){var e=E.mouse.over[E.mouse.over.length-1];for(var t=0,r=E.mouse.over.length,i=E.mouse.over[t];t<r;t++)n(e,i)&&(e=i);return e},track:function(e){h(e,"mouseenter",function(e){E.mouse.add(d.sanitize(e).currentTarget.id)});h(e,"mouseleave",function(e){E.mouse.remove(d.sanitize(e).currentTarget.id)})}},keyboard:function(){h(document,"keydown",function(e){e=d.sanitize(e);if(E.mouse.current()&&e.which<=40&&e.which>=37){var t=C[E.mouse.current()],n=null;e.which===40&&t.canSlide("down")?n="down":e.which===39&&t.canSlide("right")?n="right":e.which===38&&t.canSlide("up")?n="up":e.which===37&&t.canSlide("left")&&(n="left");n&&t.slide(n)&&p(e)}})}(),touch:function(e){var t={},n={};h(e.slidr,"touchstart",function(e){e=d.sanitize(e);t={x:e.touches[0].pageX,y:e.touches[0].pageY,time:+(new Date)};n={x:0,y:0,duration:0}});h(e.slidr,"touchmove",function(e){e=d.sanitize(e);if(e.touches.length>1||e.scale&&e.scale!==1)return;n.x=e.touches[0].pageX-t.x;n.y=e.touches[0].pageY-t.y;n.duration=+(new Date)-t.time;if(n.duration>100&&(Math.abs(n.x)+Math.abs(n.y))/n.duration<.25)return;p(e)});h(e.slidr,"touchend",function(r){r=d.sanitize(r);if(Number(+(new Date)-t.time)<250){var i=Math.abs(n.x),s=Math.abs(n.y),o=i>20,u=s>20,a=n.x<0?"right":"left",f=n.y<0?"down":"up",l=o&&u?i>s?a:f:o?a:u?f:null;l&&S.slide(e,l);p(r)}})}},S={start:function(e,t){if(!e.started&&e.slidr){var n=c(e.slidr,"display"),r=c(e.slidr,"position"),i=c(e.slidr,"opacity");c(e.slidr,{visibility:"visible",opacity:i,filter:"alpha(opacity="+i*100+")",display:n==="inline-block"||n==="inline"?"inline-block":"block",position:r==="static"?"relative":r,overflow:e.settings.overflow?c(e.slidr,"overflow"):"hidden",transition:"height 0.05s ease-out, width 0.05s ease-out","tap-highlight-color":"rgba(0, 0, 0, 0)","touch-callout":"none"});e.start||S.add(e,e.settings.direction,m.find(e,!0),e.settings.transition);m.get(e,t)&&(e.start=t);m.display(e);w.autoResize(e);b.fixTranslateZ(e,e.slidr);e.settings.keyboard&&E.mouse.track(e.slidr);e.settings.touch&&E.touch(e);e.started=!0;g.update(e)}},canSlide:function(e,t){return e.started&&t&&(m.isdir(t)?!!m.get(e,e.current,t):!!m.get(e,t))},slide:function(e,t){S.canSlide(e,t)&&m.slide(e,t)},add:function(e,t,n,r,i){if(e.slidr){var s=v.validate(e,r),o=m.find(e),u=t==="horizontal"||t==="h"?"left":"up",a=t==="horizontal"||t==="h"?"right":"down";!m.validate(e,n,s,o,u,a)&&!i?console.warn("[Slidr] Error adding ["+t+"] slides for ["+e.id+"]."):m.add(e,n,s,o,u,a)}},auto:function(e,t,n){if(e.started&&m.isdir(n)){S.stop(e);e.auto=setInterval(function(){m.slide(e,n)},t)}},stop:function(e){if(e.started&&e.auto){clearInterval(e.auto);e.auto=null}},breadcrumbs:function(e){if(e.breadcrumbs&&e.displayed){var t=c(e.breadcrumbs,"opacity")==="0"?"in":"out";b.animate(e,null,"fade",t,null,e.breadcrumbs,"3","none");e.controls&&u(e.controls,t==="in"?"add":"rm","breadcrumbs")}},controls:function(e,t){if(e.controls&&e.displayed){g.valid(t)||(t=null);var n=c(e.controls,"visibility")==="hidden",r=t&&t!=="none"?"in":"out";if(r==="out"&&n)return;t==="border"?u(e.controls,"add","border"):t==="corner"&&u(e.controls,"rm","border");b.animate(e,null,"fade",r,null,e.controls,"2","none")}}},x=function(e,n,r){var i={id:e,slidr:n,breadcrumbs:null,controls:null,settings:r,started:!1,displayed:!1,start:null,current:null,auto:null,slides:{},trans:{},crumbs:{},nav:{up:null,down:null,left:null,right:null}},s={start:function(e){S.start(i,e);return this},canSlide:function(e){return S.canSlide(i,e)},slide:function(e){S.slide(i,e);return this},add:function(e,t,n,r){S.add(i,e,t,n,r);return this},auto:function(e,t,n){S.start(i,n);S.auto(i,e||5e3,t||"right");return this},stop:function(){S.stop(i);return this},timing:function(e,n){!e||e.constructor!==Object?typeof e=="string"&&typeof n=="string"&&(i.settings.timing[e]=n):i.settings.timing=t(i.settings.timing,e);return this},breadcrumbs:function(){S.breadcrumbs(i);return this},controls:function(e){S.controls(i,e);return this}};return s},T=setInterval(function A(){var e,t;for(var r in w.active){t=w.active[r];e=t.src;if(!d.isIE()&&!n(document,e.slidr)){delete w.active[r];delete C[e.id]}else if(c(e.slidr,"visibility")==="hidden"){w.active[r].h=w.setHeight(e,0,t.d.borderbox);w.active[r].w=w.setWidth(e,0,t.d.borderbox)}else if(m.get(e,e.current)){var i=m.get(e,e.current).el,s=c(i,"height"),o=c(i,"width");if(d.isIE()){s==="auto"&&i.offsetHeight&&(s=i.offsetHeight);o==="auto"&&i.offsetWidth&&(o=i.offsetWidth)}s!=="auto"&&(s+=w.heightMargin(i));o!=="auto"&&(o+=w.widthMargin(i));t.d.height&&t.h!=s&&(w.active[r].h=w.setHeight(e,s,t.d.borderbox));t.d.width&&t.w!=o&&(w.active[r].w=w.setWidth(e,o,t.d.borderbox))}}return A}(),250),N="0.3.0",C={},k={breadcrumbs:!1,controls:"border",direction:"horizontal",fade:!0,keyboard:!1,overflow:!1,theme:"#fff",timing:{},touch:!1,transition:"linear"},L={none:"none",fade:"0.4s ease-out",linear:"0.6s ease-out",cube:"1s cubic-bezier(0.15, 0.9, 0.25, 1)"};return{version:function(){return N},transitions:function(){return v.available.slice(0)},create:function(e,n){var r=document.getElementById(e);if(!r){console.warn("[Slidr] Could not find element with id ["+e+"].");return}var i=t(k,n||{});i.timing=t(L,i.timing);C[e]=C[e]||new x(e,r,i);return C[e]}}});